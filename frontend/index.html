<!DOCTYPE html>
<html data-theme="light">
    <head>
        <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <script src="/static/main.js"></script>

        <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@1.*/css/pico.min.css">
        <link rel=stylesheet href="/static/main.css">
    </head>
    <body x-init="console.log('start alpinejs')">
        <main x-data="{ rok: '2022' }">
            <h1 class="nadpis">Kalkulačka podílu na státním rozpočtu a výdajů</h1>
            <p>Tato webová kalkulačka slouží k výpočtu částky, jakou se podílíte na státním rozpočtu České republiky skrze daňe, které povinně odvádíte...</p>
            <h4>Zobrazit údaje o státního rozpočtu za rok:</h4>
            <div>
                <input x-model="rok" type="radio" value="2020"><label>2020</label>
                <input x-model="rok" type="radio" value="2021"><label>2021</label>
                <input x-model="rok" type="radio" value="2022"><label>2022</label>
            </div>
            <br>
            <section class="parent">
                <article class="vlevo" x-data ="get_income_data_placeholder" x-init="
                data = await get_income_data(rok);
                year = data.year;
                total_income = data.total_income;
                total_expense = data.total_expense;
                vat = data.vat;
                consumer_taxes = data.consumer_taxes;
                income_tax_individual = data.income_tax_individual;
                income_tax_company = data.income_tax_company;
                mandatory_social_insurance = data.mandatory_social_insurance;
                other_tax = data.other_tax;
                other_nontax_income = data.other_nontax_income;
                consumer_tax_oils = data.consumer_tax_oils;
                consumer_tax_tobacco = data.consumer_tax_tobacco;
                consumer_tax_solar_energy = data.consumer_tax_solar_energy;
                trash_fees = data.trash_fees;
                gambling_tax = data.gambling_tax;
                income_from_eu = data.income_from_eu;
                income_connected_with_eu = data.income_connected_with_eu;">
                    <header>
                        <h4>Příjmy <span x-text="rok"></span></h4>
                    </header>
                    <ul>
                        <li>Celkem: <span x-text="total_income / 1000000000"></span> mld. Kč</li>
                        <li>DPH: <span x-text="vat / 1000000000"></span> mld. Kč</li>
                        <li>Spotřební daň: <span x-text="consumer_taxes / 1000000000"></span> mld. Kč
                            <ul>
                                <li>Palivo: <span x-text="consumer_tax_oils / 1000000000"></span> mld. Kč</li>
                                <li>Tabák: <span x-text="consumer_tax_tobacco / 1000000000"></span> mld. Kč</li>
                                <li>Sluneční záření: <span x-text="consumer_tax_solar_energy / 1000000000"></span> mld. Kč</li>
                              </ul>
                        </li>
                        <li>Daň z příjmu fyzických osob: <span x-text="income_tax_individual / 1000000000"></span> mld. Kč</li>
                        <li>Daň z příjmu právnických osob: <span x-text="income_tax_company / 1000000000"></span> mld. Kč</li>
                        <li>Poplatky za uložení odpadů: <span x-text="trash_fees / 1000000000"></span> mld. Kč</li>
                        <li>Pojistné na sociální zabezpečení: <span x-text="mandatory_social_insurance / 1000000000"></span> mld. Kč</li>
                        <li>Daň z hazardních her: <span x-text="gambling_tax / 1000000000"></span> mld. Kč</li>
                        <li>Ostatní daňové příjmy: <span x-text="other_tax / 1000000000"></span> mld. Kč</li>
                        <li>Příjmy z EU: <span x-text="income_from_eu / 1000000000"></span> mld. Kč</li>
                        <li>Příjmy sdílené s EU: <span x-text="income_connected_with_eu / 1000000000"></span> mld. Kč</li>
                        <li>Ostatní nedaňové příjmy: <span x-text="other_nontax_income / 1000000000"></span> mld. Kč</li>
                    </ul>
                </article>
                <article class="vpravo" x-data ="get_expense_data_placeholder" x-init="
                data = await get_expense_data(rok);
                year = data.year;
                total_expenses = data.total_expenses;
                salaries = data.salaries;
                noninvestment_purchases = data.noninvestment_purchases;
                noninvestment_bussines = data.noninvestment_bussines;
                noninvestment_non_profit = data.noninvestment_non_profit;
                noninvestment_state_funds = data.noninvestment_state_funds;
                noninvestment_soc_and_health_funds = data.noninvestment_soc_and_health_funds;
                noninvestment_regions = data.noninvestment_regions;
                noninvestment_contribution = data.noninvestment_contribution;
                pensions = data.pensions;
                unemployment_help = data.unemployment_help;
                other_social_help = data.other_social_help;
                state_social_help = data.state_social_help;
                building_savings = data.building_savings;
                pension_insurance_contribution = data.pension_insurance_contribution;
                other_usual_expenses = data.other_usual_expenses;
                investment_purchases = data.investment_purchases;
                investment_transfers_bussines = data.investment_transfers_bussines;
                investment_state_funds = data.investment_state_funds;
                investment_regions = data.investment_regions;
                investment_contribution = data.investment_contribution;
                other_investment = data.other_investment;
                ">
                    <header>
                        <h4>Výdaje <span x-text="rok"></span></h4>
                    </header>
                    <ul>
                        <li>Celkem: <span x-text="total_expenses / 1000000000"></span> mld. Kč</li>
                        <li>Platy: <span x-text="salaries / 1000000000"></span> mld. Kč</li>
                        <li>Neinvestiční nákupy: <span x-text="noninvestment_purchases / 1000000000"></span> mld. Kč</li>
                        <li>Neinvestiční transfery podnikatelům: <span x-text="noninvestment_bussines / 1000000000"></span> mld. Kč</li>
                        <li>Neinvestiční transfery neziskovým organizacím: <span x-text="noninvestment_non_profit / 1000000000"></span> mld. Kč</li>
                        <li>Neinvestiční transfery státním fondům: <span x-text="noninvestment_state_funds / 1000000000"></span> mld. Kč</li>
                        <li>Neinvestiční transfery fondům sociálního a zdravotního pojištění: <span x-text="noninvestment_soc_and_health_funds / 1000000000"></span> mld. Kč</li>
                        <li>Neinvestiční transfery rozpočtům územní úrovně: <span x-text="noninvestment_regions / 1000000000"></span> mld. Kč</li>
                        <li>Neinvestiční transfery příspěvkovým organizacím: <span x-text="noninvestment_contribution / 1000000000"></span> mld. Kč</li>
                        <li>Důchody: <span x-text="pensions / 1000000000"></span> mld. Kč</li>
                        <li>Podpora v nezaměstnanosti: <span x-text="unemployment_help / 1000000000"></span> mld. Kč</li>
                        <li>Ostatní sociální dávky: <span x-text="other_social_help / 1000000000"></span> mld. Kč</li>
                        <li>Státní sociální podpora: <span x-text="state_social_help / 1000000000"></span> mld. Kč</li>
                        <li>Stavební spoření: <span x-text="building_savings / 1000000000"></span> mld. Kč</li>
                        <li>Státní příspěvěk na důchodové připojištění: <span x-text="pension_insurance_contribution / 1000000000"></span> mld. Kč</li>
                        <li>Ostatní běžné výdaje: <span x-text="other_usual_expenses / 1000000000"></span> mld. Kč</li>
                        <li>Investiční nákupy: <span x-text="investment_purchases / 1000000000"></span> mld. Kč</li>
                        <li>Investiční transfery podnikatelům: <span x-text="investment_transfers_bussines / 1000000000"></span> mld. Kč</li>
                        <li>Investiční transfery státním fondům: <span x-text="investment_state_funds / 1000000000"></span> mld. Kč</li>
                        <li>Investiční transfery rozpočtům územní úrovně: <span x-text="investment_regions / 1000000000"></span> mld. Kč</li>
                        <li>Investiční transfery příspěvkovým organizacím: <span x-text="investment_contribution / 1000000000"></span> mld. Kč</li>
                        <li>Ostatní investice: <span x-text="other_investment / 1000000000"></span> mld. Kč</li>


                    </ul>
                </article>
            </section>
            <br>
            <article x-data="get_form_data_placeholder" x-init="
            data = await get_form_data();
            deti = data.deti;
            gross_income = data.gross_income;
            social_insurance = data.social_insurance;
            health_insurance = data.health_insurance;
            vat_books_music_medicine_water_accomodations = data.vat_books_music_medicine_water_accomodations;
            vat_food_mhd_medical_devices = data.vat_food_mhd_medical_devices;
            vat_21 = data.vat_21;
            capital_gains = data.capital_gains;
            gambling_tax = data.gambling_tax;
            consumer_tax_car_fuel = data.consumer_tax_car_fuel;
            consumer_tax_beer = data.consumer_tax_beer;
            consumer_tax_tobacco = data.consumer_tax_tobacco;
            consumer_tax_alcohol = data.consumer_tax_alcohol;
        ">
                <header>V následujících polích uveďte průměrnou měsíční hodnotu. Některá pole jsou předvyplněná průměrnými hodnotami, pro přesnější výpočet je však vhodné vyplnit co nejvíce polí.</header>
                <main class="parent">
                <div class="vlevo">
                    <article class="calc-form">
                    <form>
                        <label for="gross_income">Hrubý příjem:</label>
                        <input type="text" id="gross_income" :placeholder="gross_income">
                        <label for="deti">Počet dětí:</label>
                        <input type="text" id="deti" :placeholder="deti || '0'"/>
                        <label for="social_insurance">Sociální zabezpečení (vyplní pouze OSVČ):</label>
                        <input type="text" id="social_insurance" :placeholder="social_insurance || '0'"/>
                        <label for="health_insurance">Zdravotní zabezpečení(vyplní pouze OSVČ):</label>
                        <input type="text" id="health_insurance" :placeholder="health_insurance || '0'"/>
                        <label for="vat_books_music_medicine_water_accomodations">Vodné a stočné, knihy, hudba, léky, služby ubytování:</label>
                        <input type="text" id="vat_books_music_medicine_water_accomodations" :placeholder="vat_books_music_medicine_water_accomodations">
                        <label for="vat_food_mhd_medical_devices">Potraviny a gastronomické služby, veřejná doprava, léčební pomůcky:</label>
                        <input type="text" id="vat_food_mhd_medical_devices" :placeholder="vat_food_mhd_medical_devices"/>
                        <label for="vat_21">Všechny ostatní útraty:</label>
                        <input type="text" id="vat_21" :placeholder="vat_21"/>
                        <label for="capital_gains">Kapitálové příjmy:</label>
                        <input type="text" id="capital_gains" :placeholder="capital_gains || '0'"/>
                        <label for="gambling_tax">Prohrané částky v neúspěšném hazardu:</label>
                        <input type="text" id="gambling_tax" :placeholder="gambling_tax"/>
                        <label for="consumer_tax_car_fuel">Palivo:</label>
                        <input type="text" id="consumer_tax_car_fuel" :placeholder="consumer_tax_car_fuel"/>
                        <label for="consumer_tax_beer">Počet vypitých litrů piva:</label>
                        <input type="text" id="consumer_tax_beer" :placeholder="consumer_tax_beer"/>
                        <label for="consumer_tax_tobacco">Počet krabiček cigaret:</label>
                        <input type="text" id="consumer_tax_tobacco" :placeholder="consumer_tax_tobacco"/>
                        <label for="consumer_tax_alcohol">Objem vypitého ethanolu obsaženého v lihovinách:</label>
                        <input type="text" id="consumer_tax_alcohol" :placeholder="consumer_tax_alcohol"/>
                        <input type="submit" value="Vypočítat">
                    </form>
                    </article>
                </div>
                <div class="vpravo">
                    <section>
                        <template x-for="data in (await fetch_investice())">
                            <article class="expense-display">
                                <header x-text="data.name"></header>
                                <p>Rok počátku realizace projektu je: <span x-text="data.start_year"></span>.</p>
                                <p>Odhadované náklady: <span x-text="data.cost / 1000000000"></span> miliard Kč.</p>
                            </article>
                        </template>
                    </section>
                </div>
                </main>
            </article>
        </main>
        <footer>
            Tomáš Hozda © <span x-text="new Date().getFullYear()"></span>
        </footer>
    </body>
</html>

