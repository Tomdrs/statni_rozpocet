<!DOCTYPE html>
<html data-theme="light">
    <head>
        <script
            defer
            src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
        ></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/pocketbase/0.12.0/pocketbase.umd.js"
        ></script>
        <script src="/static/main.js"></script>
        <link
            rel="stylesheet"
            href="https://unpkg.com/@picocss/pico@1.*/css/pico.min.css"
        />
        <link rel="stylesheet" href="/static/main.css" />
    </head>
    <body x-init="console.log('start alpinejs')">
        <main x-data="{ client: {}, is_admin: false }" x-init="client = pb_client(); is_admin = window.localStorage.getItem('pb_admin') !== null;" x-show="is_admin">
            <section>
                <article>
                    <header>budgets</header>
                    <table x-data="{ budgets: [] }" x-effect="budgets = await fetch_budgets(client);">
                        <tr>
                            <th>year</th>
                            <th>total_income</th>
                            <th>total_expense</th>
                            <th>vat</th>
                            <th>consumer_taxes</th>
                            <th>income_tax_individual</th>
                            <th>income_tax_company</th>
                            <th>mandatory_social_insurance</th>
                            <th>other_tax</th>
                            <th>other_nontax_income</th>
                            <th>consumer_tax_oils</th>
                            <th>consumer_tax_tobacco</th>
                            <th>consumer_tax_solar_energy</th>
                            <th></th>
                        </tr>
                        <template
                           x-for="data in budgets"
                        >
                            <tr>
                                <td x-text="data.year"></td>
                                <td x-text="data.total_income"></td>
                                <td x-text="data.total_expense"></td>
                                <td x-text="data.vat"></td>
                                <td x-text="data.consumer_taxes"></td>
                                <td x-text="data.income_tax_individual"></td>
                                <td x-text="data.income_tax_company"></td>
                                <td x-text="data.mandatory_social_insurance"></td>
                                <td x-text="data.other_tax"></td>
                                <td x-text="data.other_nontax_income"></td>
                                <td x-text="data.consumer_tax_oils"></td>
                                <td x-text="data.consumer_tax_tobacco"></td>
                                <td x-text="data.consumer_tax_solar_energy"></td>
                                <td></td>
                            </tr>
                        </template>
                        <tr>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td></td>
                        </tr>
                    </table>
                </article>
                <article>
                    <header>expenses</header>
                    <table>
                        <tr>
                            <th>year</th>
                            <th>total_expenses</th>
                            <th>salaries</th>
                            <th>noninvestment_purchases</th>
                            <th>noninvestment_bussines</th>
                            <th>noninvestment_non_profit</th>
                            <th>noninvestment_state_funds</th>
                            <th>noninvestment_soc_and_health_funds</th>
                            <th>noninvestment_regions</th>
                            <th>noninvestment_contribution</th>
                            <th>pensions</th>
                            <th>unemployment_help</th>
                            <th>other_social_help</th>
                            <th>state_social_help</th>
                            <th>building_savings</th>
                            <th>pension_insurance_contribution</th>
                            <th>eu_payment</th>
                            <th>other_usual_expenses</th>
                            <th>investment_purchases</th>
                            <th>investment_transfers_bussines</th>
                            <th>investment_state_funds</th>
                            <th>investment_regions</th>
                            <th>investment_contribution</th>
                            <th>other_investment</th>
                            <th></th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td></td>
                        </tr>
                    </table>
                </article>
                <article>
                    <header>state levies average</header>
                    <table>
                        <tr>
                            <th>year</th>
                            <th>gross_income</th>
                            <th>supergross</th>
                            <th>supergross_multiplier</th>
                            <th>vat_21</th>
                            <th>social_insurance</th>
                            <th>capital_gains</th>
                            <th>gambling_tax</th>
                            <th>consumer_tax_car_fuel</th>
                            <th>vat_food_mhd_medical_devices</th>
                            <th>vat_books_music_medicine_water_accomodations</th>
                            <th>consumer_tax_beer</th>
                            <th>consumer_tax_tobacco</th>
                            <th>consumer_tax_alcohol</th>
                            <th></th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td></td>
                        </tr>
                    </table>
                </article>
                <article>
                    <header>investments</header>
                    <table>
                        <tr>
                            <th>start_year</th>
                            <th>name</th>
                            <th>cost</th>
                            <th></th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td></td>
                        </tr>
                    </table>
                </article>
            </section>
        </main>
        <footer>
            Tomáš Hozda © <span x-text="new Date().getFullYear()"></span>
        </footer>
    </body>
</html>
